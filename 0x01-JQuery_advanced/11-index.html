<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>
        <meta charset="utf-8" />
        <title>Task 7</title>
        <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
        <script type="application/javascript">
          $(document).ready(function () {
            function addPostRow(data) {
              $("body").append(`
              <p>
              <span>Post created with id ${data.id}, title: ${data.title}, author: ${data.author}</span>
              </p>
              `);
            }
    
            function listPosts() {
              const url = "http://localhost:3000/posts";
              $.get(url, { _sort: "id", _order: "desc" }, function (
                data,
                status,
                info
              ) {
                if (info.readyState === 4 && info.status === 200) {
                  for (i of data) {
                    addPostRow(i);
                  }
                }
              }).fail(function () {
                alert("Server Error");
              });
            }
    
            listPosts();
          });
      </script>
        

    </head>

    <body>

    </body>

</html>
